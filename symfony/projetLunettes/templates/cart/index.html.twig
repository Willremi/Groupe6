{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}
{% block stylesheets %}
    
{% endblock %}
{% block body %}
<div class="container">
    <div class="bg-light p-3">
            <h1>Votre panier</h1>
        </div>
        {% if items | length > 0 %}
            <table class="table" id="lunettesIndex">
               <thead>
                   <tr>
                       <th>Produit</th>
                       <th>Photo</th>
                       <th>Prix</th>
                       <th>Quantit√©</th>
                       <th>Total</th>
                       <th></th>
                   </tr>
               </thead>
               <tbody>
                {% for item in items %}
                    <tr>
                        <td>{{ item.lunettes.nom }}</td>
                        <td><img class="lunettesPhoto" src="{{ vich_uploader_asset(item.lunettes) }}" alt="image"></td>
                        <td>{{ item.lunettes.prixLunettes }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.lunettes.prixLunettes * item.quantity }}</td>
                        <td>
                            <a href="{{ path('cart_remove', {'id': item.lunettes.id}) }}" class="btn btn-danger btn-sm">
                               <i class="fa fa-trash"></i> 
                            </a>
                        </td>
                    </tr>
                {% endfor %}
               </tbody>
               <tfoot>
                    <tr>
                        <td colspan="4" class="text-right">Total : </td>
                        <td>{{ total }}</td>
                        <td></td>
                    </tr>
               </tfoot>
            </table>
        {% else %}
            <p>Surprise, c'est vide !</p>
        {% endif %}
    </div>
</div>
{% endblock %}
